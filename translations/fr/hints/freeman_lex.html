<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        Je n'ai aucune id√©e de la mani√®re de commencer √† r√©soudre cette mission.
    </div>
    <div class="answer">
        <p>
            Trouvez une id√©e üí°! Cr√©er une liste de tous les masques - mod√®les possibles, chacun d'entre eux nous indique les parenth√®ses exactes √† supprimer. La liste est tri√©e par le nombre de suppressions, puisque vous devez trouver la cha√Æne √©quilibr√©e avec le plus petit nombre de suppressions. Chaque masque est ensuite appliqu√© √† la cha√Æne <b class="code">input</b> donn√©e pour cr√©er une nouvelle cha√Æne sans crochets supprim√©s. On v√©rifie que cette nouvelle cha√Æne est √©quilibr√©e. Si c'est le cas, c'est la r√©ponse.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, par quoi dois-je commencer?
    </div>
    <div class="answer">
        <p>
            Pour cr√©er tous les mod√®les possibles, vous avez besoin de la fonction <a target="_blank" href="https://docs.python.org/3/library/itertools.html#itertools.product">product</a> du module standard <b class="code">itertools</b>. Importez la fonction avant votre d√©finition de fonction.
        </p>
        <pre class="brush: python">
from itertools import product
        </pre>
        <p>
            Cr√©ons maintenant une liste de tous les mod√®les possibles. Pour chaque caract√®re de la cha√Æne <b class="code">input</b>, vous disposez de deux statuts: il doit √™tre supprim√© dans le mod√®le suivant (<b class="code">True</b>) ou non (<b class="code">False</b>). Bien entendu, le nombre de ces paires est √©gal √† la longueur de la cha√Æne <b class="code">input</b>. Ces informations sont suffisantes pour cr√©er un g√©n√©rateur de toutes les combinaisons possibles, √† l'aide de <b class="code">product</b>. 
        </p>
        <pre class="brush: python">
product((True, False), repeat=len(input))
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Que faire ensuite?
    </div>
    <div class="answer">
        <p>
            Puisque vous √™tes int√©ress√© par le nombre r√©duit de suppressions, vous devez convertir le g√©n√©rateur ci-dessus en une liste tri√©e, o√π les mod√®les avec le moins de suppressions sont plac√©s en premier. Python interpr√®te les valeurs logiques comme des entiers, ce qui signifie que moins il y a de <b class="code">True</b>(1) dans le mod√®le, plus petit est le <b class="code">sum</b> des valeurs du mod√®le. Utilisez maintenant la fonction <a target="_blank" href="https://www.w3schools.com/python/ref_func_sorted.asp">sorted()</a> avec la bonne cl√© de tri et affectez le r√©sultat √† une variable.    
        </p>
        <pre class="brush: python">
masks = sorted(product((True, False), repeat=len(input)), key=sum)
        </pre>
        <p>
            C'est ainsi que vous avez cr√©√© une liste tri√©e de tous les mod√®les d'instructions possibles, des caract√®res √† supprimer.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Continuez √† expliquer, s'il vous pla√Æt.
    </div>
    <div class="answer">
        <p>
            Cr√©ons une fonction suppl√©mentaire <b class="code">delete</b> √† l'int√©rieur de la fonction principale pour prendre chaque mod√®le et cr√©er une nouvelle cha√Æne √† partir du mod√®le donn√© sans crochets sp√©cifiques en fonction du mod√®le actuel. 
        </p>
        <pre class="brush: python">
def delete(mask: tuple[bool]) -> str:

    ...
        </pre>
        <p>
            Passez en revue les caract√®res de <b class="code">mask</b> et de <b class="code">input</b> simultan√©ment avec la fonction <a target="_blank" href="https://www.w3schools.com/python/ref_func_zip.asp">zip()</a> et ne conservez que les caract√®res de <b class="code">input</b> si l'indicateur logique respectif de <b class="code">mask</b> n'est pas <b class="code">True</b> (puisque <b class="code">True</b> signifie la suppression).
        </p>
        <pre class="brush: python">
bracket for bracket, delete in zip(input, mask) if not delete
        </pre>
        <p>
            Vous obtiendrez une s√©quence, donc <b class="code">join</b> dans la cha√Æne et retournez de la fonction <b class="code">delete</b>.
        </p>
        <pre class="brush: python">
def delete(mask: tuple[bool]) -> str:

    return ''.join(bracket for bracket, delete in zip(input, mask) if not delete)
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        J'ai encore besoin d'un indice.
    </div>
    <div class="answer">
        <p>
            Cr√©ons l'autre fonction suppl√©mentaire √† l'int√©rieur de la fonction principale, qui prend une cha√Æne apr√®s la suppression pr√©c√©dente et v√©rifie si elle est √©quilibr√©e.
        </p>
        <pre class="brush: python">
def is_balanced(s: str) -> bool:

    ...
        </pre>
        <p>
            Ici, vous cr√©ez une nouvelle cha√Æne vide <b class="code">stack</b> et, tout en it√©rant sur la cha√Æne <b class="code">s</b>, vous ajoutez chaque caract√®re courant dans <b class="code">stack</b> et vous v√©rifiez si les deux derniers caract√®res de <b class="code">stack</b> forment une paire de parenth√®ses √©quilibr√©e. Si c'est le cas, supprimez la paire de <b class="code">stack</b>. Si <b class="code">stack</b> est vide √† la fin, cela signifie que la cha√Æne <b class="code">s</b> est enti√®rement √©quilibr√©e.  
        </p>
        <pre class="brush: python">
def is_balanced(s: str) -> bool:
    
    stack = ""
    for b in s:
        stack += b    
        if stack[-2:] in ("()", "[]", "{}"):
            stack = stack[:-2]
        
    return not stack
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Aidez-nous √† faire en sorte que tout fonctionne ensemble.
    </div>
    <div class="answer">
        <p>
            Oui, c'est la derni√®re pierre. Appliquez la fonction <b class="code">delete</b> √† chaque mod√®le de <b class="code">mask</b> en utilisant la fonction <a target="_blank" href="https://www.w3schools.com/python/ref_func_map.asp">map()</a>. V√©rifiez
        </p>
        <pre class="brush: python">
map(delete, masks)
        </pre>
        <p>
            Dans cet it√©rateur, ne choisissez que les cha√Ænes <b class="code">is_balanced</b> √† l'aide de la fonction <a target="_blank" href="https://www.w3schools.com/python/ref_func_filter.asp">filter()</a>. 
        </p>
        <pre class="brush: python">
filter(is_balanced, map(delete, masks))
        </pre>
        <p>
            Votre <b class="code">masks</b> est tri√© par num√©ro de suppression, vous n'avez donc besoin que du tout premier √©l√©ment de cette s√©quence. Comme il s'agit d'un it√©rateur, vous devez utiliser <a target="_blank" href="https://www.w3schools.com/python/ref_func_next.asp">next()</a>, qui renvoie la valeur suivante de l'it√©rateur (la premi√®re dans le cas out).
        </p>
        <pre class="brush: python">
return next(filter(is_balanced, map(delete, masks)))
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Alors, √† quoi devrait ressembler ma solution finale?
    </div>
    <div class="answer">
        <p>
            Il vous suffit de combiner tous les indices pr√©c√©dents et d'envelopper votre code dans une expression de fonction. Il est fortement recommand√© d'utiliser des indications de type pour les donn√©es d'entr√©e et de sortie.
        </p>
        <p>Voici la solution compl√®te:</p>
        <div class="spoiler">
        <pre class="brush: python">
from itertools import product


def remove_brackets(input: str) -> str:
    
    def is_balanced(s: str) -> bool:
        
        stack = ""
        for b in s:
            stack += b    
            if stack[-2:] in ("()", "[]", "{}"):
                stack = stack[:-2]
            
        return not stack
    
    def delete(mask: tuple[bool]) -> str:
        
        return ''.join(bracket for bracket, delete in zip(input, mask) if not delete)
    
    masks = sorted(product((True, False), repeat=len(input)), key=sum)
    
    return next(filter(is_balanced, map(delete, masks)))
        </pre>
        </div>
        <p>Cliquez sur <b>Best Solutions</b> dans le menu mission et d√©couvrez de nombreuses autres solutions int√©ressantes!</p>
    </div>
</div>
</div>
<div class="question-answer">
    <div class="question">
        Merci beaucoup! J'en sais et j'en comprends plus maintenant! Tout fonctionne bien!
    </div>
    <div class="answer">
        Heureux de l'apprendre üëç!
    </div>
</div>
</body>