<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        Nie mam pojcia, jak zacz rozwizywa t misj.
    </div>
    <div class="answer">
        <p>
            Prosz zapa jaki pomys ! Prosz stworzy list wszystkich mo偶liwych masek - szablon贸w, ka偶dy z nich m贸wi nam jakie dokadnie nawiasy usun. Lista jest posortowana wedug liczby usuni, poniewa偶 trzeba znale藕 zr贸wnowa偶ony cig z mniejsz liczb usuni. Ka偶da maska jest nastpnie stosowana do podanego cigu <b class="code">input</b> w celu utworzenia nowego cigu bez usunitych nawias贸w. Ten nowy cig jest sprawdzany pod ktem zr贸wnowa偶enia. Jeli tak, to jest to odpowied藕.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, od czego powinienem zacz?
    </div>
    <div class="answer">
        <p>
            Aby utworzy wszystkie mo偶liwe szablony, potrzebuj Pastwo funkcji <a target="_blank" href="https://docs.python.org/3/library/itertools.html#itertools.product">product</a> ze standardowego moduu <b class="code">itertools</b>. Prosz zaimportowa funkcj przed definicj funkcji.
        </p>
        <pre class="brush: python">
from itertools import product
        </pre>
        <p>
            Teraz prosz utworzy list wszystkich mo偶liwych szablon贸w. Dla ka偶dego znaku w podanym acuchu <b class="code">input</b> maj Pastwo dwa statusy: powinien zosta usunity w nastpnym szablonie (<b class="code">True</b>) lub nie (<b class="code">False</b>). Oczywicie liczba tych par jest r贸wna dugoci acucha <b class="code">input</b>. To wystarczajca ilo informacji, aby utworzy generator wszystkich mo偶liwych ich kombinacji, u偶ywajc <b class="code">product</b>. 
        </p>
        <pre class="brush: python">
product((True, False), repeat=len(input))
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Co robi dalej?
    </div>
    <div class="answer">
        <p>
            Poniewa偶 interesuje Pana mniejsza liczba usuni, musi Pan przekonwertowa powy偶szy generator na posortowan list, na kt贸rej szablony z mniejsz liczb usuni id jako pierwsze. Python interpretuje wartoci logiczne jako liczby cakowite, wic oznacza to, 偶e im mniejsza liczba <b class="code">True</b>'s (1's) znajduje si w szablonie, tym mniejsza jest <b class="code">sum</b> wartoci szablonu. Prosz teraz u偶y funkcji <a target="_blank" href="https://www.w3schools.com/python/ref_func_sorted.asp">sorted()</a> z odpowiednim kluczem sortowania i przypisa wynik do zmiennej.    
        </p>
        <pre class="brush: python">
masks = sorted(product((True, False), repeat=len(input)), key=sum)
        </pre>
        <p>
            W ten spos贸b stworzy Pan posortowan list wszystkich mo偶liwych szablon贸w instrukcji, jakie znaki nale偶y usun.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Prosz wyjania dalej.
    </div>
    <div class="answer">
        <p>
            Prosz utworzy dodatkow funkcj <b class="code">delete</b> wewntrz g贸wnej funkcji, kt贸ra bdzie pobiera ka偶dy szablon i tworzy nowy cig znak贸w z podanego szablonu bez okrelonych nawias贸w zgodnie z bie偶cym szablonem. 
        </p>
        <pre class="brush: python">
def delete(mask: tuple[bool]) -> str:

    ...
        </pre>
        <p>
            Iteruj po znakach z <b class="code">mask</b> i podanych <b class="code">input</b> jednoczenie z funkcj <a target="_blank" href="https://www.w3schools.com/python/ref_func_zip.asp">zip()</a> i zachowaj tylko znaki z <b class="code">input</b>, jeli odpowiednia flaga logiczna <b class="code">mask</b> nie jest <b class="code">True</b> (poniewa偶 <b class="code">True</b> oznacza usunicie).
        </p>
        <pre class="brush: python">
bracket for bracket, delete in zip(input, mask) if not delete
        </pre>
        <p>
            Otrzyma Pan sekwencj, wic <b class="code">join</b> j do acucha i powr贸t z funkcji <b class="code">delete</b>.
        </p>
        <pre class="brush: python">
def delete(mask: tuple[bool]) -> str:

    return ''.join(bracket for bracket, delete in zip(input, mask) if not delete)
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Nadal potrzebuj podpowiedzi.
    </div>
    <div class="answer">
        <p>
            Utw贸rzmy drug dodatkow funkcj wewntrz g贸wnej, kt贸ra pobiera cig po poprzednim usuniciu i sprawdza, czy jest zr贸wnowa偶ony.
        </p>
        <pre class="brush: python">
def is_balanced(s: str) -> bool:

    ...
        </pre>
        <p>
            Tutaj tworzymy nowy pusty cig <b class="code">stack</b> i podczas iteracji po cigu <b class="code">s</b> dodajemy ka偶dy bie偶cy znak do <b class="code">stack</b> i sprawdzamy, czy dwa ostatnie znaki <b class="code">stack</b> tworz zr贸wnowa偶on par nawias贸w. Jeli tak, prosz usun t par z cigu <b class="code">stack</b>. Jeli cig <b class="code">stack</b> jest pusty na kocu, oznacza to, 偶e cig <b class="code">s</b> jest w peni zbalansowany.  
        </p>
        <pre class="brush: python">
def is_balanced(s: str) -> bool:
    
    stack = ""
    for b in s:
        stack += b    
        if stack[-2:] in ("()", "[]", "{}"):
            stack = stack[:-2]
        
    return not stack
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Prosz pom贸c, aby wszystko dziaao razem.
    </div>
    <div class="answer">
        <p>
            Tak, to ostatni kamie. Prosz zastosowa funkcj <b class="code">delete</b> do ka偶dego szablonu w <b class="code">mask</b> u偶ywajc funkcji <a target="_blank" href="https://www.w3schools.com/python/ref_func_map.asp">map()</a>. Prosz sprawdzi
        </p>
        <pre class="brush: python">
map(delete, masks)
        </pre>
        <p>
            Z tego iteratora prosz wybra tylko cigi <b class="code">is_balanced</b> u偶ywajc funkcji <a target="_blank" href="https://www.w3schools.com/python/ref_func_filter.asp">filter()</a>. 
        </p>
        <pre class="brush: python">
filter(is_balanced, map(delete, masks))
        </pre>
        <p>
            Pana <b class="code">masks</b> jest posortowany wedug liczby usuni, wic potrzebuje Pan tylko pierwszego elementu z tej sekwencji. Poniewa偶 jest to iterator, nale偶y u偶y funkcji <a target="_blank" href="https://www.w3schools.com/python/ref_func_next.asp">next()</a>, kt贸ra zwraca nastpn warto z iteratora (pierwsz w naszym przypadku).
        </p>
        <pre class="brush: python">
return next(filter(is_balanced, map(delete, masks)))
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Jak wic powinno wyglda moje ostateczne rozwizanie?
    </div>
    <div class="answer">
        <p>
            Wystarczy poczy wszystkie poprzednie podpowiedzi i zawin kod w wyra偶enie funkcyjne. U偶ywanie podpowiedzi typu dla danych wejciowych i wyjciowych jest wysoce zalecane.
        </p>
        <p>Oto cae rozwizanie:</p>
        <div class="spoiler">
        <pre class="brush: python">
from itertools import product


def remove_brackets(input: str) -> str:
    
    def is_balanced(s: str) -> bool:
        
        stack = ""
        for b in s:
            stack += b    
            if stack[-2:] in ("()", "[]", "{}"):
                stack = stack[:-2]
            
        return not stack
    
    def delete(mask: tuple[bool]) -> str:
        
        return ''.join(bracket for bracket, delete in zip(input, mask) if not delete)
    
    masks = sorted(product((True, False), repeat=len(input)), key=sum)
    
    return next(filter(is_balanced, map(delete, masks)))
        </pre>
        </div>
        <p>Prosz klikn <b>Best Solutions</b> w menu misji i zobaczy wiele innych ciekawych rozwiza!</p>
    </div>
</div>
</div>
<div class="question-answer">
    <div class="question">
        Dziki! Teraz wiem i rozumiem wicej! Wszystko dziaa jak nale偶y!
    </div>
    <div class="answer">
        Mio mi to sysze !
    </div>
</div>
</body>